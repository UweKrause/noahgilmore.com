{"version":3,"sources":["webpack:///./src/pages/examples/ios-copy-to-clipboard/index.jsx"],"names":["Container","styled","div","withConfig","displayName","componentId","TrackingLink","handleOnClick","toAppend","element","document","createElement","data","_objectSpread","timestamp","Date","now","this","props","json","JSON","stringify","encoded","btoa","href","includes","value","style","body","appendChild","el","oldContentEditable","contentEditable","oldReadOnly","readOnly","range","createRange","selectNodeContents","s","window","getSelection","removeAllRanges","addRange","console","log","setSelectionRange","execCommand","iosCopyToClipboard","render","react__WEBPACK_IMPORTED_MODULE_9___default","a","onClick","bind","children","React","Component","IndexPage","referrer","componentDidMount","ReactGA","initialize","pageview","location","pathname","search"],"mappings":"0nBA2BA,IAAMA,EAAYC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,mCAAAC,YAAA,YAAGJ,CAAH,6CAMTK,kGACFC,cAAA,WACI,IAOIC,EAPAC,EAAUC,SAASC,cAAc,SACjCC,6UAAIC,CAAA,CACJC,UAAWC,KAAKC,OACbC,KAAKC,MAAMN,MAEdO,EAAOC,KAAKC,UAAUT,GACtBU,EAAUC,KAAKJ,GAGfX,EADAS,KAAKC,MAAMM,KAAKC,SAAS,KACd,OAASH,EAET,OAASA,EAExBb,EAAQiB,MAAQT,KAAKC,MAAMM,KAAOhB,EAClCC,EAAQkB,MAAQ,mCAChBjB,SAASkB,KAAKC,YAAYpB,GA9ClC,SAA4BqB,GACxB,IAAIC,EAAqBD,EAAGE,gBACxBC,EAAcH,EAAGI,SACjBC,EAAQzB,SAAS0B,cAErBN,EAAGE,iBAAkB,EACrBF,EAAGI,UAAW,EACdC,EAAME,mBAAmBP,GAEzB,IAAIQ,EAAIC,OAAOC,eACfF,EAAEG,kBACFH,EAAEI,SAASP,GACXQ,QAAQC,IAAIT,GACZQ,QAAQC,IAAIN,GAEZR,EAAGe,kBAAkB,EAAG,QAExBf,EAAGE,gBAAkBD,EACrBD,EAAGI,SAAWD,EAEPvB,SAASoC,YAAY,QA2BxBC,CAAmBtC,MAGvBuC,OAAA,WACI,OACIC,EAAAC,EAAAvC,cAAA,KAAGa,KAAMP,KAAKC,MAAMM,KAAM2B,QAASlC,KAAKV,cAAc6C,KAAKnC,OAAQA,KAAKC,MAAMmC,cAvB/DC,IAAMC,WA4B3BC,kGACFR,OAAA,WACI,OAAOC,EAAAC,EAAAvC,cAACX,EAAD,KACHiD,EAAAC,EAAAvC,cAACL,EAAD,CAAcM,KAAM,CAAC6C,SAAY,wBAAyBjC,KAAK,4EAA/D,wBAIRkC,kBAAA,WACIC,IAAQC,WAAW,iBACnBD,IAAQE,SAAStB,OAAOuB,SAASC,SAAWxB,OAAOuB,SAASE,YAT5CV,IAAMC,WAafC","file":"component---src-pages-examples-ios-copy-to-clipboard-index-jsx-3b42679cdbe8d877a2eb.js","sourcesContent":["import React from 'react';\nimport styled from \"styled-components\";\nimport ReactGA from 'react-ga';\n\nfunction iosCopyToClipboard(el) {\n    var oldContentEditable = el.contentEditable,\n        oldReadOnly = el.readOnly,\n        range = document.createRange();\n\n    el.contentEditable = true;\n    el.readOnly = false;\n    range.selectNodeContents(el);\n\n    var s = window.getSelection();\n    s.removeAllRanges();\n    s.addRange(range);\n    console.log(range);\n    console.log(s);\n\n    el.setSelectionRange(0, 999999); // A big number, to cover anything that could be inside the element.\n\n    el.contentEditable = oldContentEditable;\n    el.readOnly = oldReadOnly;\n\n    return document.execCommand('copy');\n}\n\nconst Container = styled.div`\n    width: 960px;\n    height: 100vh;\n    margin: 0 auto;\n`;\n\nclass TrackingLink extends React.Component {\n    handleOnClick() {\n        let element = document.createElement(\"input\");\n        let data = {\n            timestamp: Date.now(),\n            ...this.props.data\n        }\n        let json = JSON.stringify(data);\n        let encoded = btoa(json)\n        let toAppend;\n        if (this.props.href.includes(\"?\")) {\n            toAppend = \"&ed=\" + encoded\n        } else {\n            toAppend = \"?ed=\" + encoded\n        }\n        element.value = this.props.href + toAppend;\n        element.style = \"position: absolute; opacity: 0.0\"\n        document.body.appendChild(element);\n        iosCopyToClipboard(element);\n    }\n\n    render() {\n        return (\n            <a href={this.props.href} onClick={this.handleOnClick.bind(this)}>{this.props.children}</a>\n        );\n    }\n};\n\nclass IndexPage extends React.Component {\n    render() {\n        return <Container>\n            <TrackingLink data={{\"referrer\": \"pasteboard-blog-post\"}} href=\"https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8\">This is the link</TrackingLink>\n        </Container>\n    }\n\n    componentDidMount() {\n        ReactGA.initialize('UA-35325391-1');\n        ReactGA.pageview(window.location.pathname + window.location.search);\n    }\n}\n\nexport default IndexPage;\n"],"sourceRoot":""}