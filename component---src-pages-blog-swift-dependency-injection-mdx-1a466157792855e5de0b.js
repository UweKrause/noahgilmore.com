(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{243:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",function(){return r}),n.d(t,"default",function(){return s});n(11),n(12),n(6),n(19),n(21),n(0);var a=n(79),i=n(259),o=n(28);var r={},c={_frontmatter:r},l=i.a;function s(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["components"]);return Object(a.b)(l,Object.assign({},c,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"At the most recent ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://www.meetup.com/swift-language/"}),"Swift Language User Group")," meetup, ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://twitter.com/patbarry"}),"Patrick Barry")," presented a ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://www.youtube.com/watch?v=dA9rGQRwHGs"}),"great talk")," about how Lyft implements dependency injection. I'd highly recommend watching the video - I was impressed by how clean and functional the solution they came up with is. I was going to write up a summary for my coworkers, but figured I might as well put it here for the benefit of anyone who's interested."),Object(a.b)("p",null,"This post describes the very simple approach to dependency injection presented in the talk, using new functions ",Object(a.b)("inlineCode",{parentName:"p"},"bind")," and ",Object(a.b)("inlineCode",{parentName:"p"},"mock"),". I'll paraphrase some code in this write up, but the concepts and function names will match the talk."),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"Edit (4/30/2019): This post describes a nice Swift implementation of a pattern similar to the ",Object(a.b)("a",Object.assign({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Service_locator_pattern"}),"Service Locator Pattern"),", considered by many to be a strong anti-pattern. Like Singletons, you should use Service Locator carefully - I've added a ",Object(a.b)("a",Object.assign({parentName:"em"},{href:"#downsides"}),"section")," at the end about drawbacks of this approach.")),Object(a.b)("h2",null,"Dependency Injection"),Object(a.b)("p",null,"I won't go into detail on what dependency injection is, since there's a fair amount of time in the talk dedicated to it. Instead, let's think about an example."),Object(a.b)("p",null,"Say we're writing an app to display info about cats. We would have a ",Object(a.b)("inlineCode",{parentName:"p"},"Cat")," model in our app:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-swift"}),"struct Cat: Codable {\n    let name: String\n    let image: URL\n}\n")),Object(a.b)("p",null,"And let's assume we have an API to fetch a cat by name:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{}),'GET /cat?id=2\n{\n    "name": "Maggie",\n    "image": "https://placekitten.com/200/200"\n}\n')),Object(a.b)("p",null,"From an architectural point of view, we want to extract this into two different parts:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"A ",Object(a.b)("inlineCode",{parentName:"li"},"NetworkService")," which makes the requests"),Object(a.b)("li",{parentName:"ol"},"A ",Object(a.b)("inlineCode",{parentName:"li"},"CatService")," which exposes a ",Object(a.b)("inlineCode",{parentName:"li"},"getCat(id:)")," method (this calls into the network service)")),Object(a.b)(o.a,{filename:"swift-di-1.png",alt:"Diagram of CatService calling NetworkService",caption:"",mdxType:"CaptionedImage"}),Object(a.b)("h2",null,"Binding"),Object(a.b)("p",null,"There's a clear ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"#seam"}),"seam")," between the ",Object(a.b)("inlineCode",{parentName:"p"},"NetworkService")," and ",Object(a.b)("inlineCode",{parentName:"p"},"CatService")," that we can use to test ",Object(a.b)("inlineCode",{parentName:"p"},"CatService"),". Let's extract the network's functionality into an interface:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-swift"}),"protocol NetworkInterface {\n    func makeRequest(\n        url: URL,\n        completion: @escaping (Result<Data, Error>) -> Void\n    )\n}\n")),Object(a.b)("p",null,"And the concrete implementation:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{}),"private class NetworkService: NetworkInterface {\n    func makeRequest(\n        url: URL,\n        completion: @escaping (Result<Data, Error>) -> Void\n    ) {\n        // Use URLSession, etc\n    }\n}\n")),Object(a.b)("p",null,"And now for the really interesting part - ",Object(a.b)("inlineCode",{parentName:"p"},"NetworkService")," will ",Object(a.b)("em",{parentName:"p"},"expose itself using a special function called bind"),' (I\'ve added the "SimpleDI" namespace here):'),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-swift"}),"let getNetwork = SimpleDI.bind(NetworkInterface.self) { NetworkService() }\n")),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"bind")," returns ",Object(a.b)("inlineCode",{parentName:"p"},"getNetwork")," as a function which can be called to get a concrete implementation of the ",Object(a.b)("inlineCode",{parentName:"p"},"NetworkInterface")," protocol. ",Object(a.b)("inlineCode",{parentName:"p"},"CatService")," can then call ",Object(a.b)("inlineCode",{parentName:"p"},"getNetwork")," to get access to the network:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{}),"class CatService {\n    func getCat(id: Int, completion: @escaping (Result<Cat, Error>) -> Void) {\n        let network = getNetwork()\n        network.makeRequest(/* ... */)\n    }\n}\n")),Object(a.b)(o.a,{filename:"swift-di-2.png",alt:"Diagram of CatService calling NetworkService, with bind as an intermediary",caption:"",mdxType:"CaptionedImage"}),Object(a.b)("h2",null,"Implementation"),Object(a.b)("p",null,"Before we talk about why ",Object(a.b)("inlineCode",{parentName:"p"},"bind")," is useful, let's discuss the implementation. ",Object(a.b)("inlineCode",{parentName:"p"},"bind")," returns a function which takes no parameters and returns a type of ",Object(a.b)("inlineCode",{parentName:"p"},"NetworkInterface"),", but it also takes a closure which will be used to generate the concrete implementation."),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"bind"),"'s body looks like this (again, paraphrased a bit from the talk):"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-swift"}),"private var instantiators: [String: Any] = [:]\n\nenum SimpleDI {\n    static func bind<T>(\n        _ interfaceType: T.Type,\n        instantiator: @escaping () -> T\n    ) -> () -> T {\n        instantiators[String(describing: interfaceType)] = instantiator\n        return self.instance\n    }\n\n    private static func instance<T>() -> T {\n        let key = String(describing: T.self)\n        let instantiator = instantiators[key] as! () -> T\n        return instantiator()\n    }\n}\n")),Object(a.b)("p",null,"We take the closure that we're passed and save it in a dictionary (",Object(a.b)("a",Object.assign({parentName:"p"},{href:"#dictionary-atomic"}),"see end note"),"), then return a function which accesses and calls the closure we provided. Though we have to do some force casting, we're guaranteed that the closure we need will be there when ",Object(a.b)("inlineCode",{parentName:"p"},"getNetworkInterface")," is called, since we put it into ",Object(a.b)("inlineCode",{parentName:"p"},"instantiators")," before returning from ",Object(a.b)("inlineCode",{parentName:"p"},"bind"),"."),Object(a.b)("h2",null,"Testability"),Object(a.b)("p",null,"Using ",Object(a.b)("inlineCode",{parentName:"p"},"bind")," adds a level of indirection at the seam between ",Object(a.b)("inlineCode",{parentName:"p"},"NetworkService")," and ",Object(a.b)("inlineCode",{parentName:"p"},"CatService"),", which allows us to stub in a mock in tests. In order to do that, we need to define ",Object(a.b)("inlineCode",{parentName:"p"},"mock")," as well, and add a bit of more infrastructure:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-swift"}),'private var instantiators: [String: Any] = [:]\nprivate var mockInstantiators: [String: Any] = [:]\n\nenum SimpleDI {\n    static var isTestEnvironment = false\n\n    static func bind<T>(\n        _ type: T.Type,\n        instantiator: @escaping () -> T\n    ) -> () -> T {\n        instantiators[String(describing: type)] = instantiator\n        return self.instance\n    }\n\n    private static func instance<T>() -> T {\n        let key = String(describing: T.self)\n        if self.isTestEnvironment {\n            guard let instantiator = mockInstantiators[key] as? () -> T else {\n                fatalError("Type \\\\(key) unmocked in test!")\n            }\n            return instantiator()\n        }\n        let instantiator = instantiators[key] as! () -> T\n        return instantiator()\n    }\n\n    static func mock<T>(_ type: T.Type, instantiator: @escaping () -> T) {\n        mockInstantiators[String(describing: type)] = instantiator\n    }\n}\n')),Object(a.b)("p",null,"This code isn't very pretty - in fact, checks like ",Object(a.b)("inlineCode",{parentName:"p"},"isTestEnvironment")," are generally a code smell that mean you should refactor how the class works to avoid the check. However, this enables us to write tests very easily: all we have to do is set ",Object(a.b)("inlineCode",{parentName:"p"},"isTestEnvironment = true"),", and we'll be able to ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"#mock"}),"stub in a mock")," immediately using ",Object(a.b)("inlineCode",{parentName:"p"},"mock"),"."),Object(a.b)("h2",null,"Example"),Object(a.b)("p",null,"Let's say we want to write a test which makes sure CatService reports an error when the underlying network errors:"),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{}),'class NetworkThatAlwaysErrors: NetworkInterface {\n    func makeRequest(url: URL, completion: @escaping (Result<Data>) -> Void) {\n        completion(.error(error: NSError(domain: "", code: 0, userInfo: nil)))\n    }\n}\n\nclass CatServiceTestCase: XCTestCase {\n    func testCatServiceReportsError() {\n        SimpleDI.isTestEnvironment = true\n        SimpleDI.mock(NetworkInterface.self) { NetworkThatAlwaysErrors() }\n\n        let expecation = self.expectation(description: "Should return error")\n        let service = CatService()\n        service.getCatImage(named: "Maggie", completion: { result in\n            if case .error = result {\n                expecation.fulfill()\n            }\n        })\n        self.waitForExpectations(timeout: 0.2)\n    }\n}\n')),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"bind")," and ",Object(a.b)("inlineCode",{parentName:"p"},"mock")," take the dirty work of setting up the DI/mocking infrastructure and hide it under the rug, allowing us to write more expressive tests easily."),Object(a.b)(o.a,{filename:"swift-di-3.png",alt:"Diagram of bind and mock being used to separate CatService and NetworkService and stub in a mock in tests",caption:"",mdxType:"CaptionedImage"}),Object(a.b)("p",null,"Some interesting things to note:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Many people who've worked with DI have horror stories of passing 10/15+ dependencies into an initializer so they can be mocked in tests. ",Object(a.b)("inlineCode",{parentName:"li"},"bind")," brings the argument count down to 0 without sacrificing testability, and makes both the service and the test more elegant."),Object(a.b)("li",{parentName:"ol"},Object(a.b)("inlineCode",{parentName:"li"},"bind")," will error if you forget to mock out an interface in a test, so you're never accidentally calling deeper into dependencies than you mean to.")),Object(a.b)("a",{name:"downsides"}),Object(a.b)("h2",null,"Downsides"),Object(a.b)("p",null,"This approach is very similar to the ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Service_locator_pattern"}),"Service Locator Pattern"),", which is commonly criticized. I really enjoyed ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://badootech.badoo.com/singleton-service-locator-and-tests-in-ios-d69484e88944"}),"this article")," about Service Locator in iOS, and there are a few downsides that I should mention:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Using a service locator registry like ",Object(a.b)("inlineCode",{parentName:"li"},"bind")," means you have implicit instead of explicit dependencies. Instead of knowing explicitly that ",Object(a.b)("inlineCode",{parentName:"li"},"CatService")," depends on ",Object(a.b)("inlineCode",{parentName:"li"},"NetworkService"),", you have to look for the call to ",Object(a.b)("inlineCode",{parentName:"li"},"getNetwork"),". There's a tradeoff between the simplicity of using a service locator and the fact that it can make services with many dependencies more complex to reason about."),Object(a.b)("li",{parentName:"ol"},"With ",Object(a.b)("inlineCode",{parentName:"li"},"bind"),", it can be tough to recognize that you can update a test when a dependency of a service is removed. If ",Object(a.b)("inlineCode",{parentName:"li"},"CatService")," stopped calling out to the network, it's wouldn't be immediately apparent that ",Object(a.b)("inlineCode",{parentName:"li"},"NetworkThatAlwaysErrors")," could be deleted. This can lead to unnessary cognitive overhead in tests."),Object(a.b)("li",{parentName:"ol"},"When calling ",Object(a.b)("inlineCode",{parentName:"li"},"mock"),", you have to be ",Object(a.b)("em",{parentName:"li"},"very")," careful to set up your testing framework such that all the mocks get cleared after every test. Otherwise, you might have different behavior based on the order the tests are run, which can lead to flakes.")),Object(a.b)("h2",null,"Conclusion"),Object(a.b)("p",null,"It was really interesting to see how Lyft was able to come up with such a simple solution to a complex problem. I'd really recommend watching ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://www.youtube.com/watch?v=dA9rGQRwHGs"}),"the talk")," if you're interested in dependency injection and testing. If you'd like to see a working example of ",Object(a.b)("inlineCode",{parentName:"p"},"bind")," and ",Object(a.b)("inlineCode",{parentName:"p"},"mock"),", I've put one ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/noahsark769/NGSimpleDIExample"}),"here")," (it has a few differences from the code in this post in order to demonstrate an actual working request and test)."),Object(a.b)("h2",null,"Footnotes"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("a",{name:"dictionary-atomic"}),"Dictionary is not thread safe, so if you want to use `bind` and `mock` on multiple threads you'll need to implement something similar to an [atomic box](https://www.objc.io/blog/2018/12/18/atomic-variables/) (the talk mentions this)."),Object(a.b)("li",{parentName:"ol"},Object(a.b)("a",{name:"seam"}),'"[Seam](http://wiki.c2.com/?SoftwareSeam)" is a concept that seems to have been first coined in [Working Effectively With Legacy Code](https://www.amazon.com/Working-Effectively-Legacy-Michael-Feathers/dp/0131177052). It\'s defined as "[a place where two parts of the software meet and where something else can be injected](https://softwareengineering.stackexchange.com/questions/132563/problem-with-understanding-seam-word/311122)".'),Object(a.b)("li",{parentName:"ol"},Object(a.b)("a",{name:"mock"}),"You could even put `mock` in your test target to make sure it can't be called in production!")))}s.isMDXComponent=!0},246:function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"a",function(){return w});var a=n(10),i=n(249),o=n.n(i),r=n(250),c=n.n(r),l=n(251),s=n.n(l),p=n(252),d=n.n(p);function m(){var e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["\n    @font-face {\n        font-family: 'Bariol';\n        src: url('","');\n        src: url('","?#iefix') format('embedded-opentype'),\n             url('","') format('woff'),\n             url('","') format('truetype'),\n             url('","#svgBariolRegular') format('svg');\n    }\n\n    * {\n        box-sizing: border-box !important;\n    }\n\n    body {\n        margin: 0;\n        padding: 0;\n    }\n"]);return m=function(){return e},e}var b=Object(a.a)(m(),o.a,o.a,c.a,s.a,d.a),u=a.c.div.withConfig({displayName:"default__Div",componentId:"d4l1a1-0"})([""]),f=(a.c.nav.withConfig({displayName:"default__Nav",componentId:"d4l1a1-1"})([""]),a.c.ul.withConfig({displayName:"default__UL",componentId:"d4l1a1-2"})(["margin:0;padding:0;"])),h=a.c.li.withConfig({displayName:"default__LI",componentId:"d4l1a1-3"})(["margin:0;padding:0;"]),g=a.c.p.withConfig({displayName:"default__P",componentId:"d4l1a1-4"})(["margin:0;padding:0;"]),w=a.c.a.withConfig({displayName:"default__A",componentId:"d4l1a1-5"})(["&,&:hover,&:focus{outline:none;color:inherit;text-decoration:none;}"])},247:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var a="rgba(128, 165, 177, 1)",i="rgba(151, 195, 210, 1)"},249:function(e,t,n){e.exports=n.p+"static/Bariol-Regular-b0d07df351f442860551405a4be58de7.eot"},250:function(e,t,n){e.exports=n.p+"static/Bariol-Regular-4afd94f0fd93a1f63b46c6c6ad792f71.woff"},251:function(e,t,n){e.exports=n.p+"static/Bariol-Regular-8a7d23d53f8d118e190c63e4e81a91fe.ttf"},252:function(e,t,n){e.exports=n.p+"static/Bariol-Regular-75b90056f4cdf5a742897ec0a59569d7.svg"},253:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(246),r=n(247),c=n(10),l=n(257),s=n(258),p=c.c.nav.withConfig({displayName:"Nav__StyledNav",componentId:"sc-1cm9dpf-0"})(["display:flex;flex-direction:row;flex-wrap:wrap;padding:20px 60px;border-bottom:1px solid #ddd;@media all and (max-width:600px){padding:20px;}@media (prefers-color-scheme:dark){border-color:#777;}"]),d=c.c.div.withConfig({displayName:"Nav__Title",componentId:"sc-1cm9dpf-1"})(['flex:2;font-family:"Roboto","Helvetica Neue","Helvetica",sans-serif;font-size:28px;font-display:swap;@media (prefers-color-scheme:dark){color:#fff;}']),m=Object(c.c)(o.f).withConfig({displayName:"Nav__NavLinks",componentId:"sc-1cm9dpf-2"})(["flex:10;display:flex;flex-direction:horizontal;flex-wrap:wrap;justify-content:flex-end;height:100%;align-self:center;"]),b=Object(c.c)(o.d).withConfig({displayName:"Nav__NavLink",componentId:"sc-1cm9dpf-3"})(['display:flex;flex-direction:vertical;align-items:center;text-align:center;font-family:"Bariol","Helvetica Neue","Helvetica",sans-serif;font-size:16px;padding:0px 20px;']),u=Object(c.c)(o.a).withConfig({displayName:"Nav__StyledA",componentId:"sc-1cm9dpf-4"})(["height:auto;color:",";display:flex;flex-direction:vertical;align-items:center;-webkit-transition:0.2s ease-in-out;-moz-transition:0.2s ease-in-out;-o-transition:0.2s ease-in-out;transition:0.2s ease-in-out;&:hover{color:",";}"],r.a,r.b);t.a=function(e){return i.a.createElement(p,null,i.a.createElement(d,null,i.a.createElement(u,{href:e.blog?"/blog":"/"},"NOAH GILMORE")),i.a.createElement(m,null,i.a.createElement(b,null,i.a.createElement(u,{"aria-label":"Blog Home",href:"/blog"},i.a.createElement(l.b,{color:r.a,size:"24"}))),i.a.createElement(b,null,i.a.createElement(u,{"aria-label":"Twitter",href:"https://twitter.com/noahsark769"},i.a.createElement(s.a,{color:r.a,size:"24"}))),i.a.createElement(b,null,i.a.createElement(u,{"aria-label":"App Store",href:"https://appstore.com/trestle"},i.a.createElement(l.a,{color:r.a,size:"24"})))))}},254:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});var a=n(0),i=n.n(a),o=n(10),r=n(248);var c=o.c.div.withConfig({displayName:"BlogPost__BlogPostContainer",componentId:"gyfnna-0"})(["padding:60px 0;margin:0 auto;width:90%;@media all and (min-width:600px){max-width:700px;margin:auto;}@media all and (max-width:600px){width:100%;padding:20px 0;","}"],function(e){return e.darkened&&Object(o.b)(["background-color:#f6f6f6;@media (prefers-color-scheme:dark){background-color:inherit;}"])}),l=o.c.div.withConfig({displayName:"BlogPost__TitleContainer",componentId:"gyfnna-1"})(["width:100%;margin-bottom:40px;"]),s=o.c.h1.withConfig({displayName:"BlogPost__Heading",componentId:"gyfnna-2"})(['width:100%;font-family:"Roboto","Helvetica Neue","Helvetica",sans-serif;font-size:34px;margin-bottom:10px;line-height:1.2em;@media (prefers-color-scheme:dark){color:#fff;}']),p=o.c.p.withConfig({displayName:"BlogPost__DateContainer",componentId:"gyfnna-3"})(['font-family:"Gentium Book Basic",times,serif;font-style:italic;font-size:16px;color:#999;']),d=function(e){return i.a.createElement("div",null,i.a.createElement(r.Helmet,null,i.a.createElement("title",null,e.title)),i.a.createElement(l,null,i.a.createElement(s,null,e.title),i.a.createElement(p,null,e.date)))};i.a.Component},255:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(0),i=n.n(a),o=n(50),r=n.n(o);var c=n(10).c.div.withConfig({displayName:"MarkdownContent__Container",componentId:"zl3v0s-0"})(['p,li{margin:0;padding:0;font-family:"Gentium Book Basic",times,serif;font-size:21px;line-height:29px;color:#333;padding-bottom:15px;margin-top:15px;@media all and (max-width:600px){width:90%;margin:15px auto 0 auto;}@media (prefers-color-scheme:dark){color:#fff;}}blockquote{background-color:#faf9f7;border-left:4px solid #e5e4e1;padding:20px;font-style:italic;@media (prefers-color-scheme:dark){background-color:#3f3f3f;}p{margin:0;padding:0;color:#555;@media (prefers-color-scheme:dark){color:#fff;}}}a{color:#1A3F4B;-webkit-transition:0.2s ease-in-out;-moz-transition:0.2s ease-in-out;-o-transition:0.2s ease-in-out;transition:0.2s ease-in-out;@media (prefers-color-scheme:dark){color:#60b5d1;}}a:hover{color:#47656E;@media (prefers-color-scheme:dark){color:#6bcfef;}}code{font-family:monospace;font-size:16px;background-color:#faf9f7;border:1px solid #e5e4e1;padding:3px 5px;margin:0px 2px;color:#555;@media (prefers-color-scheme:dark){color:#fff;background-color:#3f3f3f;}}code:not(pre code){font-family:monospace;font-size:16px;background-color:#faf9f7;border:1px solid #e5e4e1;padding:3px 5px;margin:0px 2px;color:#555;@media (prefers-color-scheme:dark){color:#fff;background-color:#3f3f3f;}}code:first-child{margin-left:0;}pre{display:block;margin:0;padding:0;background:none;@media all and (max-width:600px){width:100%;margin:0 auto;}}pre > code{display:block;margin:0;padding:0;border:1px solid #e5e4e1;border-radius:2px;padding:10px;margin-top:10px;font-family:monospace;font-size:14px;line-height:17px;white-space:pre-wrap;@media all and (max-width:600px){font-size:15px;white-space:pre;border-left:none;border-right:none;padding:15px 5% 15px 5%;width:100%;}}pre > code.language-nohighlight{@media (prefers-color-scheme:dark){color:#fff;background-color:#3f3f3f;}}pre + p{margin-top:30px;}ol{margin-left:30px;@media all and (max-width:600px){width:90%;margin:0 auto 0 30px;}@media (prefers-color-scheme:dark){color:#fff;}}ol li{list-style-type:decimal;}ul li{list-style-type:square;margin-left:40px;@media all and (max-width:600px){width:90%;margin:0 auto;}@media (prefers-color-scheme:dark){color:#fff;}}h1,h2,h3,h4,h5,h6{width:100%;font-family:"Roboto","Helvetica Neue","Helvetica",sans-serif;margin-bottom:10px;margin-top:40px;@media all and (max-width:600px){width:90%;margin:40px auto 10px auto;}@media (prefers-color-scheme:dark){color:#fff;}}h1{font-size:28px;}h2{font-size:24px;}h3{font-size:20px;}em{font-style:italic;}strong{font-weight:bold;}']),l=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.render=function(){return i.a.createElement(c,null,this.props.children)},o.componentDidMount=function(){for(var e=r.a.findDOMNode(this).querySelectorAll("pre code"),t=0;t<e.length;t++)window.hljs&&window.hljs.highlightBlock(e[t])},a}(i.a.Component)},256:function(e,t,n){"use strict";function a(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}n.d(t,"a",function(){return a})},259:function(e,t,n){"use strict";n(157);var a=n(0),i=n.n(a),o=n(248),r=n(246),c=n(253),l=n(10),s=n(257),p=n(258),d=n(247);var m=l.c.div.withConfig({displayName:"EndButtons__Container",componentId:"sc-2ta1su-0"})(["width:100%;display:flex;flex-direction:horizontal;align-items:center;justify-content:center;margin-top:40px;"]),b=l.c.div.withConfig({displayName:"EndButtons__ButtonStyle",componentId:"sc-2ta1su-1"})(["background-color:",";-webkit-transition:0.2s ease-in-out;-moz-transition:0.2s ease-in-out;-o-transition:0.2s ease-in-out;transition:0.2s ease-in-out;&:hover{background-color:",";}width:100px;padding:10px 20px;text-align:center;display:flex;flex-direction:vertical;align-items:center;justify-content:center;border-radius:4px;",";"],d.a,d.b,function(e){return e.margin&&Object(l.b)(["margin-right:20px;"])}),u=function(e){return i.a.createElement(r.a,{href:e.url,target:e.newTab?"_blank":null,"aria-label":e.label},i.a.createElement(b,{margin:e.margin},e.children))},f=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e,t=(e="Post by @noahsark769: "+this.props.tweetTitle+" "+this.props.tweetUrl,"https://twitter.com/intent/tweet?text="+encodeURIComponent(e));return i.a.createElement(m,null,i.a.createElement(u,{label:"Twitter",url:t,newTab:!0,margin:!0},i.a.createElement(p.a,{size:24,color:"white"})),i.a.createElement(u,{label:"Blog homepage",url:"/blog"},i.a.createElement(s.b,{size:24,color:"white"})))},a}(i.a.Component),h=n(254),g=n(255),w=n(256);var y=l.c.div.withConfig({displayName:"Disqus__Wrapper",componentId:"sc-1jjeqqj-0"})(["margin-top:80px;"]),j=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.render=function(){return i.a.createElement(y,null,i.a.createElement("div",{id:"disqus_thread"}))},o.componentDidMount=function(){var e,t;e=document,(t=e.createElement("script")).src="//noahgilmore-com.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)},a}(i.a.Component),k=n(260),v=n.n(k);n.d(t,"a",function(){return x});var O=l.c.div.withConfig({displayName:"BlogPageLayout__Container",componentId:"sc-118ribu-0"})(["@media (prefers-color-scheme:dark){background-color:#2b2c2f;}"]),N=l.c.div.withConfig({displayName:"BlogPageLayout__NonContent",componentId:"sc-118ribu-1"})(["@media all and (max-width:600px){padding-right:5%;padding-left:5%;}"]),x=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.render=function(){var e="undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches;return i.a.createElement(O,null,i.a.createElement(r.c,null),i.a.createElement(o.Helmet,null,i.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Roboto:700",rel:"stylesheet",type:"text/css"}),i.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Gentium+Book+Basic",rel:"stylesheet"}),!e&&i.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.0/styles/atom-one-light.min.css"}),e&&i.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.0/styles/zenburn.min.css"}),i.a.createElement("meta",{name:"twitter:card",content:"summary"}),i.a.createElement("meta",{name:"twitter:creator",content:"@noahsark769"}),i.a.createElement("meta",{property:"og:url",content:"https://noahgilmore.com"+this.props.location.pathname}),i.a.createElement("meta",{property:"og:title",content:this.props.pageContext.frontmatter.title}),i.a.createElement("meta",{property:"og:description",content:this.props.pageContext.frontmatter.staticPreview}),i.a.createElement("meta",{name:"description",content:this.props.pageContext.frontmatter.staticPreview})),i.a.createElement(c.a,{blog:!0}),i.a.createElement(h.a,null,i.a.createElement(N,null,i.a.createElement(h.b,{title:this.props.pageContext.frontmatter.title,date:Object(w.a)(this.props.pageContext.frontmatter.date)})),i.a.createElement(g.a,null,this.props.children),i.a.createElement(N,null,i.a.createElement(f,{tweetTitle:this.props.pageContext.frontmatter.title,tweetUrl:"https://noahgilmore.com"+this.props.location.pathname}),i.a.createElement(j,null))))},l.componentDidMount=function(){v.a.initialize("UA-35325391-1"),v.a.pageview(window.location.pathname+window.location.search)},a}(i.a.Component)}}]);
//# sourceMappingURL=component---src-pages-blog-swift-dependency-injection-mdx-1a466157792855e5de0b.js.map